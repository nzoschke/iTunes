var browseController={currentID:null};browseController.createView=function(d){var g=document.createElement("div");var m=document.createElement("div");g.appendChild(m);m.setAttribute("id","navigation");var b=document.createElement("ul");m.appendChild(b);var k=document.createElement("div");g.appendChild(k);k.setAttribute("id","mainContentWrapper");var l=document.createElement("div");k.appendChild(l);$(l).addClassName("contentName");l.setAttribute("id","mainContentName");var c=document.createElement("div");k.appendChild(c);$(c).addClassName("content");c.setAttribute("id","mainContent");browseController.createNavigationForItemWithID=function(u,p){var w=parseInt(dataController.getSettingsStringForKey("LeafNodeLevel"));if(p>=w){return}var q=dataController.getContentObjectForID(u);if("false"==q.navigation){return}var x=dataController.getChildrenIDsForObjectWithID(u);var s=document.createElement("li");s.setAttribute("id","navigation-"+u);if(1<x.length&&p!=w-1){$(s).addClassName("closed");$(s).addClassName("hasChildren")}var r=document.createElement("a");s.appendChild(r);if(1<x.length&&p!=w-1){r.setAttribute("href","javascript:browseController.toggleClosedStateForItemWithID('"+u+"');")}else{r.setAttribute("href","#"+u)}var F=dataController.getButtonIDForObjectWithID(u);var H=dataController.getContentObjectForID(F);var v=H.alternativeNameStyle;var E=dataController.getIconForObjectWithID(u);if(E){var G=document.createElement("img");r.appendChild(G);$(G).addClassName("icon");G.setAttribute("src",E);$(s).addClassName("hasIcon");$(s).addClassName("alternativeName"+v)}var z=dataController.getNameForObjectWithID(u);if("replace"==v){var t=dataController.getAlternativeNameForObjectWithID(u);if(""!=t){z=t}var C=document.createElement("span");r.appendChild(C);$(C).addClassName("name");C.appendChild(document.createTextNode(z))}else{if("prefix"==v){var t=dataController.getAlternativeNameForObjectWithID(u);var A=document.createElement("span");r.appendChild(A);$(A).addClassName("alternativename");A.appendChild(document.createTextNode(t));var C=document.createElement("span");r.appendChild(C);$(C).addClassName("name");C.appendChild(document.createTextNode(z))}else{var C=document.createElement("span");r.appendChild(C);$(C).addClassName("name");C.appendChild(document.createTextNode(z))}}if(1<x.length){var B=document.createElement("ul");s.appendChild(B);for(var y=0;itemChild=x[y++];){var D=this.createNavigationForItemWithID(itemChild,p+1);if(D){B.appendChild(D)}}}return s};var o=dataController.getHierarchyObjectForID(d).children;var h=o.length;if(-1!=document.getElementsByTagName("html")[0].className.indexOf("internetexplorer")){h-=1}if(1==h){var n=o[0].id;o=dataController.getHierarchyObjectForID(n).children;for(var f=0;child=o[f++];){var e=this.createNavigationForItemWithID(child.id,0);if(e){b.appendChild(e)}}}else{for(var f=0;child=o[f++];){var a=child.id;var j=this.createNavigationForItemWithID(a,0);if(j){b.appendChild(j)}}}return g};browseController.toggleClosedStateForItemWithID=function(b){var a=$("navigation-"+b);a.toggleClassName("closed")};browseController.closeAllNavigationItems=function(){var a=$("navigation").getElementsByTagName("li");for(var b=0;closedElement=a[b++];){closedElement.addClassName("closed")}};browseController.navigateToItemWithID=function(targetID){if(this.currentID==targetID){return}$("mainContentWrapper").removeClassName("contentNotAvailableMessage");$("mainContentWrapper").removeClassName("howdy");this.currentID=targetID;var navigationElements=$("navigation").getElementsByTagName("li");for(var i=0;navigationElement=navigationElements[i++];){var navigationElementID=navigationElement.id;if($(navigationElementID)){$(navigationElementID).removeClassName("selected")}}if($("navigation-"+targetID)){$("navigation-"+targetID).addClassName("selected")}var itemParent=$("navigation-"+targetID);if(itemParent){while(itemParent.parentNode){if(itemParent.id&&itemParent.id!=("navigation-"+targetID)&&"LI"==itemParent.nodeName){itemParent.removeClassName("closed")}itemParent=itemParent.parentNode}}while($("mainContentName").childNodes.length){$("mainContentName").removeChild($("mainContentName").childNodes[0])}var targetElementTitle=dataController.getNameForObjectWithID(targetID);$("mainContentName").appendChild(document.createTextNode(targetElementTitle));document.title=targetElementTitle;controller.setHelpViewerBreadcrumbTitleForObjectWithID(targetID);var targetIDContent=dataController.getContentForObjectWithID(targetID);var itemChildren=dataController.getChildrenIDsForObjectWithID(targetID);if(1==itemChildren.length){targetIDContent=dataController.getContentForObjectWithID(itemChildren[0])}var level=-1;var targetIDParent=targetID;while(targetIDParent){targetIDParent=dataController.getParentIDForObjectWithID(targetIDParent);level++}var leafNodeLevel=parseInt(dataController.getSettingsStringForKey("LeafNodeLevel"));if(level==leafNodeLevel){var childrenIDs=dataController.getChildrenIDsForObjectWithID(targetID);for(var j=0;childrenID=childrenIDs[j++];){var childContent="";childContent+='<div class="NestedAppleTopic">';childContent+='<div class="Name">';childContent+=dataController.getNameForObjectWithID(childrenID);childContent+="</div>";childContent+='<div class="NestedAppleTopicBody">';childContent+=dataController.getContentForObjectWithID(childrenID);childContent+="</div>";childContent+="</div>";targetIDContent+=childContent}}if(!targetIDContent){var contentNotAvailableID=null;var topHierarchyObjects=dataController.getTopHierearchyObjects();for(var j=0;hierarchyItem=topHierarchyObjects[j++];){var contentItem=dataController.getContentObjectForID(hierarchyItem.id);if(contentItem.type!="content-not-available-message"){continue}contentNotAvailableID=hierarchyItem.children[0].id;break}if(controller.isHelpViewerMode&&contentNotAvailableID){$("mainContentWrapper").addClassName("contentNotAvailableMessage");targetIDContent=dataController.getContentForObjectWithID(contentNotAvailableID)}else{targetIDContent="[id not found: "+targetID+"]"}}$("mainContent").innerHTML=targetIDContent;if(!$("mainContentWrapper").hasClassName("contentNotAvailableMessage")){var topHierarchyObjects=dataController.getTopHierearchyObjects();for(var i=0;hierarchyItem=topHierarchyObjects[i++];){var contentItem=dataController.getContentObjectForID(hierarchyItem.id);if(contentItem.howdyPageID==targetID){$("mainContentWrapper").addClassName("howdy");var contentRow=document.createElement("div");$(contentRow).addClassName("contentRow");$("mainContent").appendChild(contentRow);var contentCell=document.createElement("div");$(contentCell).addClassName("contentCell");contentRow.appendChild(contentCell);var footerRow=document.createElement("div");$(footerRow).addClassName("contentRow");$(footerRow).addClassName("footer");$("mainContent").appendChild(footerRow);var footerCell=document.createElement("div");$(footerCell).addClassName("contentCell");footerRow.appendChild(footerCell);var childElements=$("mainContent").childNodes;for(var j=childElements.length-1;j>=0;j--){childElement=childElements[j];if(childElement.hasClassName&&$(childElement).hasClassName("contentRow")){continue}var contentCellFirstChild=contentCell.childNodes[0];if(contentCellFirstChild){contentCell.insertBefore(childElement,contentCell.childNodes[0])}else{contentCell.appendChild(childElement)}}if(!controller.isHelpViewerMode){var localizationLink=localizationController.getLocalizationLink();if(localizationLink){footerCell.appendChild(localizationLink)}}}}}if(dataController.getSettingsStringForKey("ShowFeedbackLink")=="true"){var feedbackDiv=document.createElement("div");$(feedbackDiv).addClassName("Feedback");$("mainContent").appendChild(feedbackDiv);var feedbackTextSpan=document.createElement("span");$(feedbackTextSpan).addClassName("LinkFeedback");feedbackTextSpan.appendChild(document.createTextNode(localizationController.localizedUIString("Was this page helpful? ")));feedbackDiv.appendChild(feedbackTextSpan);var feedbackLink=document.createElement("a");var feedbackURL="http://help.apple.com/feedbackR1/English/pgs/fdbck_form.php?";feedbackURL+="bookID="+dataController.getSettingsStringForKey("Title");feedbackURL+="&topicTitle="+dataController.getNameForObjectWithID(targetID);feedbackURL+="&version="+dataController.getSettingsStringForKey("BuildVersion");if(controller.isHelpViewerMode){feedbackURL+="h"}else{feedbackURL+="b"}feedbackLink.setAttribute("href",feedbackURL);feedbackLink.setAttribute("target","_new");feedbackLink.appendChild(document.createTextNode(localizationController.localizedUIString("Send feedback.")));feedbackDiv.appendChild(feedbackLink)}var allLinks=$("mainContent").getElementsByTagName("a");if(allLinks.length){for(var i=allLinks.length-1;i>=0;i--){var link=allLinks[i];var linkAction="";if(link.attributes.onclick){linkAction=link.attributes.onclick.value}if(!linkAction){linkAction=""}var linkHref=link.attributes.href;if(linkHref){linkHref=linkHref.value}if(!linkHref){linkHref=""}if("#contentNotAvailableMessageLink"==linkHref){continue}if(-1!=linkAction.indexOf("openCrossReference")){var linkID=linkAction;linkID=linkID.substring(linkID.indexOf("'")+1);linkID=linkID.substring(0,linkID.indexOf("'"));var linkChildren=dataController.getChildrenIDsForObjectWithID(linkID);if(0==linkChildren.length){continue}var linkChildNodes=link.childNodes;var linkNextSibling=link.nextSibling;var linkParent=link.parentNode;link.parentNode.removeChild(link);for(var j=0;linkChildNode=linkChildNodes[j++];){if(linkNextSibling){linkParent.insertBefore(linkChildNode,linkNextSibling)}else{linkParent.appendChild(linkChildNode)}}}else{if(0==linkHref.indexOf("#")){}else{link.setAttribute("target","_blank")}}}}var allTasks=$("mainContent").select(".Task");for(var i=0;task=allTasks[i++];){var taskWrapperDiv=document.createElement("div");$(taskWrapperDiv).addClassName("TaskWrapper");task.parentNode.insertBefore(taskWrapperDiv,task);taskWrapperDiv.appendChild(task);var closeLink=document.createElement("a");taskWrapperDiv.insertBefore(closeLink,taskWrapperDiv.childNodes[0]);closeLink.setAttribute("href","javascript:browseController.toggleTask('"+(i-1)+"');");var toggleSpan=document.createElement("span");closeLink.appendChild(toggleSpan);$(toggleSpan).addClassName("showHideSteps");toggleSpan.appendChild(document.createTextNode(""));var taskName=task.select(".Name")[0];closeLink.appendChild(taskName);if(allTasks.length<=1){taskWrapperDiv.toggleClassName("closed")}this.toggleTask(i-1)}var allDITATasks=$("mainContent").select(".task");for(var i=0;task=allDITATasks[i++];){var taskTitleObject=task.select(".title")[0];taskTitleObject.parentNode.removeChild(taskTitleObject);var taskTitleLink=document.createElement("a");task.insertBefore(taskTitleLink,task.childNodes[0]);taskTitleLink.className=taskTitleObject.className;taskTitleLink.setAttribute("href","javascript:browseController.toggleTask('"+(i-1)+"');");for(var j=0;taskTitleChild=taskTitleObject.childNodes[j++];){taskTitleChild.parentNode.removeChild(taskTitleChild);taskTitleLink.appendChild(taskTitleChild)}var toggleSpan=document.createElement("span");taskTitleLink.appendChild(toggleSpan);$(toggleSpan).addClassName("showHideSteps");toggleSpan.appendChild(document.createTextNode(""));if(allDITATasks.length<=1){task.toggleClassName("closed")}this.toggleTask(i-1)}var allLinkAppleWebMovies=$("mainContent").select(".LinkAppleWebMovie");if(allLinkAppleWebMovies.length){for(var i=allLinkAppleWebMovies.length-1;i>=0;i--){var linkAppleWebMovie=allLinkAppleWebMovies[i];var firstLinkAppleWebMovieLink=linkAppleWebMovie.getElementsByTagName("a")[0];if(firstLinkAppleWebMovieLink){var movieURL=null;var movieKey=firstLinkAppleWebMovieLink.getAttribute("href");if(true===navigator.onLine&&-1!=movieKey.indexOf("?movie=")){movieKey=movieKey.replace(/\?movie=/,"",movieKey);var movieURLRequest=new XMLHttpRequest();var movieURLRequestURL=dataController.getSettingsStringForKey("RemoteURL")+localizationController.language+"/movies/"+movieKey+".json";try{movieURLRequest.open("GET",movieURLRequestURL,false)}catch(err){if(typeof(window.console)!="undefined"){console.log(err)}movieURLRequest=null}try{movieURLRequest.send(null)}catch(err){if(typeof(window.console)!="undefined"){console.log(err)}movieURLRequest=null}if(movieURLRequest&&(movieURLRequest.status==0||movieURLRequest.status==200)){var responseText=movieURLRequest.responseText;var movieURLDictionary=eval(responseText);movieURLDictionary=movieURLDictionary[0];movieURL=movieURLDictionary.url}}}if(movieURL){var linkAppleWebImageLink=document.createElement("a");linkAppleWebMovie.insertBefore(linkAppleWebImageLink,linkAppleWebMovie.childNodes[0]);var linkAppleWebImage=document.createElement("img");linkAppleWebImageLink.appendChild(linkAppleWebImage);linkAppleWebImage.setAttribute("src","images/movie - play.png");linkAppleWebImage.addClassName("play");var linkAppleWebMovieLinks=linkAppleWebMovie.getElementsByTagName("a");for(var j=0;linkAppleWebMovieLink=linkAppleWebMovieLinks[j++];){linkAppleWebMovieLink.setAttribute("href","#");linkAppleWebMovieLink.setAttribute("onclick","javascript:movieLightboxController.showLightboxWithURL('"+movieURL+"'); return false;")}}else{linkAppleWebMovie.parentNode.removeChild(linkAppleWebMovie)}}}var copyrightTaglineContent=dataController.getContentForObjectWithID("COPYRIGHT_TAGLINE");if(copyrightTaglineContent){var copyrightTaglineDiv=document.createElement("div");copyrightTaglineDiv.setAttribute("class","copyrightTagline");copyrightTaglineDiv.innerHTML=copyrightTaglineContent;var allContentCells=$("mainContent").select(".contentCell");if(allContentCells.length){allContentCells[allContentCells.length-1].appendChild(copyrightTaglineDiv)}else{$("mainContent").appendChild(copyrightTaglineDiv)}}$("mainContentWrapper").scrollTop=0};browseController.toggleTask=function(c){var a=$("mainContent").select(".TaskWrapper",".task")[c];a.toggleClassName("closed");if(a.hasClassName("closed")){var d="Show steps"}else{var d="Hide steps"}d=localizationController.localizedUIString(d);var b=a.select(".showHideSteps")[0];b.replaceChild(document.createTextNode(d),b.childNodes[0])};var controller={isHelpViewerMode:0,contentsFolderURL:null,localizedContentsFolderURL:null,previousHash:null,currentHash:null};controller.init=function(){var f=navigator.userAgent.toLowerCase();var g=document.getElementsByTagName("html")[0];if(/applewebkit/.test(f)){var h=(/version\/(\d+)/.test(f))?" "+RegExp.$1:"";g.className+=" safari safari"+h}if(/firefox/.test(f)){var d=(/firefox\/(\d.\d)/.test(f))?" "+RegExp.$1:"";d=d.replace(/\./g,"");d=d.replace(/ /g,"");g.className+=" firefox firefox"+d}if(/msie\s(\d)/.test(f)){g.className+=" internetexplorer internetexplorer"+RegExp.$1}this.contentsFolderURL="../Contents/";localizationController.localizeBrowser();this.localizedContentsFolderURL=this.contentsFolderURL+localizationController.language+"/";var c=new XMLHttpRequest();var b=controller.contentsFolderURL+"content.json";c.open("GET",b,false);try{c.send(null)}catch(e){c=null}if(!c||!(c.status==0||c.status==200)){var b=controller.localizedContentsFolderURL+"content.json";c.open("GET",b,false);try{c.send(null)}catch(e){c=null}if(!c||!(c.status==0||c.status==200)){if(typeof(window.console)!="undefined"){console.log("Error retrieving Content.json file.")}if(localizationController.language!=null&&localizationController.language!="en"){document.location="?lang=en"}else{alert("English content.json could not be parsed.")}return}}else{this.isHelpViewerMode=1}if(!this.isHelpViewerMode){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","../../redirect.js");document.getElementsByTagName("head")[0].appendChild(a)}dataController.loadData();if(dataController.getSettingsStringForKey("Design")){g.className+=" "+dataController.getSettingsStringForKey("Design").toLowerCase()}else{if(this.isHelpViewerMode){g.className+=" flamingo"}else{g.className+=" blueflamingo"}}if("true"==dataController.getSettingsStringForKey("HighResolutionGraphics")){g.className+=" HighResolutionGraphics"}if(this.isHelpViewerMode){localizationController.localizeHelpViewer()}this.enableHelpViewerContentsButton()};controller.showInterface=function(){var b=document.createElement("div");document.body.appendChild(b);b.setAttribute("id","menuWrapper");var d=document.createElement("div");b.appendChild(d);d.setAttribute("id","menu");var f=document.createElement("div");document.body.appendChild(f);f.setAttribute("id","container");if(1==dataController.getSettingsStringForKey("ShowVersionNumber")){var a=document.createElement("div");document.body.appendChild(a);a.setAttribute("id","debugVersionNumber");if(-1!=document.getElementsByTagName("html")[0].className.indexOf("redflamingo")){var e=document.createElement("a");e.className="toggleButton";e.setAttribute("href","javascript:controller.toggleNavigation( (-1 != document.getElementsByTagName('html')[0].className.indexOf('navigationHidden') ) );");e.appendChild(document.createTextNode("Contents"));a.appendChild(e)}if(typeof(window.frontendVersionNumber)=="undefined"||frontendVersionNumber==""){frontendVersionNumber="(unavailable)"}var c=dataController.getSettingsStringForKey("BuildVersion");if(typeof(c)=="undefined"||"BuildVersion"==c){c="(unavailable)"}a.appendChild(document.createTextNode("front end version '"+frontendVersionNumber+"'"));a.appendChild(document.createElement("br"));a.appendChild(document.createTextNode("content version '"+c+"'"))}this.createTitle();this.createMenu();if(window.location.hash==""||window.location.hash=="#"){window.location="#"+controller.idOfFirstSelectedItem()}searchController.addInterfaceElements();printController.addInterfaceElements();if(this.isHelpViewerMode){controller.checkHash();this.currentHash=null;setTimeout(function(){setInterval(function(){controller.checkHash()},100)},500);return}if(!controller.isHelpViewerMode){controller.checkHash()}setInterval(function(){controller.checkHash()},100)};controller.createTitle=function(){var c=document.createElement("div");$("menuWrapper").appendChild(c);c.setAttribute("id","title");var h=document.createElement("a");c.appendChild(h);h.setAttribute("href","javascript:controller.homeButtonWasClicked();");var j=dataController.getSettingsStringForKey("Title");h.appendChild(document.createTextNode(j));$("title").addClassName("hidden");var g=document.createElement("a");$("menuWrapper").appendChild(g);g.setAttribute("id","backButton");g.setAttribute("href","javascript:history.go(-1)");var d=document.createElement("a");$("menuWrapper").appendChild(d);d.setAttribute("id","forwardButton");d.setAttribute("href","javascript:history.go(1)");var f=document.createElement("a");$("menuWrapper").appendChild(f);f.setAttribute("id","homeButton");f.setAttribute("href","javascript:controller.homeButtonWasClicked();");if(-1!=document.getElementsByTagName("html")[0].className.indexOf("orangeflamingo")){var b=["arrow-back-active.png","arrow-forward-active.png","home-active.png","home-hover.png","print-active.png","print-hover.png"];for(var e=0;imageName=b[e++];){var a=new Image(1,1);a.src="images/orangeflamingo/"+imageName}}if(-1!=document.getElementsByTagName("html")[0].className.indexOf("blackflamingo")){var b=["arrow-back-active.png","arrow-forward-active.png","home-active.png","home-hover.png","print-active.png","print-hover.png"];for(var e=0;imageName=b[e++];){var a=new Image(1,1);a.src="images/blackflamingo/"+imageName}}};controller.createMenu=function(){var d=0;var c=dataController.getTopHierearchyObjects();for(var g=0;hierarchyItem=c[g++];){var b=dataController.getContentObjectForID(hierarchyItem.id);if(b.type!="navigation"){continue}d++}var f=document.createElement("table");$("menu").appendChild(f);f.setAttribute("align","center");f.setAttribute("border","0");f.setAttribute("cellspacing","0");f.setAttribute("cellpadding","0");f.setAttribute("col",d);var e=document.createElement("tbody");f.appendChild(e);var k=document.createElement("tr");e.appendChild(k);var c=dataController.getTopHierearchyObjects();for(var g=0;hierarchyItem=c[g++];){var b=dataController.getContentObjectForID(hierarchyItem.id);if(b.type!="navigation"){continue}var a=document.createElement("td");k.appendChild(a);a.setAttribute("width",parseInt(100/d)+"%");a.setAttribute("align","center");var l=document.createElement("a");a.appendChild(l);var j=b.name;if(!j){var h=hierarchyItem.children[0];j=dataController.getNameForObjectWithID(h.id)}l.setAttribute("href","#button-"+(g-1));l.setAttribute("id","button-"+(g-1));l.appendChild(document.createTextNode(j))}if(1==d){$("menu").addClassName("hidden");$("title").removeClassName("hidden")}};controller.homeButtonWasClicked=function(){searchController.hideSearchResults();window.location.hash=this.idOfFirstSelectedItem()};controller.navigateToID=function(g){lightboxController.hideLightbox();searchController.navigateToItemWithID(g);var l=dataController.getButtonIDForObjectWithID(g);var b=dataController.getTopHierearchyObjects();if(-1!=document.body.className.indexOf("printPage")){controller.navigateToMenuItemWithID(null);if(g=="printBook"){printPageController.navigateToItemWithID(g);return}for(var k=0;hierarchyItem=b[k++];){if(hierarchyItem.id==l){printPageController.navigateToItemWithID(g);return}}console.log("print navigation error");return}for(var k=0;hierarchyItem=b[k++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.type!="download-remote-book"){continue}var c=dataController.getChildrenIDsForObjectWithID(hierarchyItem.id);for(var h=0;child=c[h++];){if(child.id==g){window.location="#";window.location.reload();return}}break}if(0==g.indexOf("button-")){var f=dataController.getContentObjectForID(g);var e=f.howdyPageID;controller.navigateToMenuItemWithID(g);browseController.navigateToItemWithID(e);return}for(var k=0;hierarchyItem=b[k++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.howdyPageID==g){this.navigateToID("button-"+(k-1));return}}for(var k=0;hierarchyItem=b[k++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.type!="navigation"){continue}if(hierarchyItem.id==l){if("selected"!=$(l).className){controller.navigateToMenuItemWithID(l)}if(!dataController.getContentForObjectWithID(g)&&!$("navigation-"+g)){browseController.navigateToItemWithID(a.howdyPageID)}else{browseController.navigateToItemWithID(g)}return}}for(var k=0;hierarchyItem=b[k++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.type!="lightbox"){continue}if(hierarchyItem.id==l){if(!this.previousHash){var d=controller.idOfFirstSelectedItem();this.navigateToID(d);this.previousHash="#"+d}lightboxController.navigateToItemWithID(g);return}}if(typeof(window.console)!="undefined"){console.log("Navigation error")}};controller.navigateToMenuItemWithID=function(b){var a=null;if(-1!=document.body.className.indexOf("printPage")){a=printPageController}else{a=browseController}$("container").className="";a.currentID=null;while($("container").childNodes.length){$("container").removeChild($("container").childNodes[0])}$("container").addClassName("browse");var g=a.createView(b);var f=g.childNodes;for(var d=0;innerView=f[d++];){$("container").appendChild(innerView.cloneNode(true))}var e=dataController.getTopHierearchyObjects();for(var d=0;hierarchyItem=e[d++];){var c=hierarchyItem.id;if($(c)){$(c).removeClassName("selected")}}if($(b)){$(b).addClassName("selected")}};controller.idOfFirstSelectedItem=function(){var d=dataController.getTopHierearchyObjects();for(var c=0;hierarchyItem=d[c++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.type!="navigation"){continue}var b=a["active-state"];if(b!="selected"){continue}return"button-"+(c-1)}return"button-0"};controller.enableHelpViewerContentsButton=function(){if(-1==document.getElementsByTagName("html")[0].className.indexOf("redflamingo")){return}if(typeof(HelpViewer)=="undefined"||typeof(HelpViewer.enableContentsButtonWithCallback)=="undefined"||typeof(HelpViewer.setContentsButtonState)=="undefined"){return}HelpViewer.enableContentsButtonWithCallback(controller.toggleNavigation);var a=window.location.hash;var b=false;if(a==""||a=="#"||a=="#"+controller.idOfFirstSelectedItem()){b=true}HelpViewer.setContentsButtonState(b)};controller.toggleNavigation=function(a){if(a){document.getElementsByTagName("html")[0].removeClassName("navigationHidden")}else{document.getElementsByTagName("html")[0].addClassName("navigationHidden")}};controller.setHelpViewerBreadcrumbTitleForObjectWithID=function(f){if(-1==document.getElementsByTagName("html")[0].className.indexOf("redflamingo")){return}if(typeof(HelpViewer)=="undefined"||typeof(HelpViewer.setBreadcrumbPageTitle)=="undefined"){return}var e=dataController.getNameForObjectWithID(f);var c=dataController.getTopHierearchyObjects();for(var b=0;hierarchyItem=c[b++];){var a=dataController.getContentObjectForID(hierarchyItem.id);if(a.type!="navigation"){continue}var d=a.howdyPageID;if(f==d){e=null;break}}HelpViewer.setBreadcrumbPageTitle(e)};controller.checkHash=function(){if(this.currentHash==window.location.hash){return}this.previousHash=this.currentHash;this.currentHash=window.location.hash;var c=this.currentHash.replace("#","");if(c=="contentNotAvailableMessageLink"){window.location="#";window.location.reload();return}if(-1!=c.indexOf("didRunUpdate")){c="browse"}if(""!=c){controller.navigateToID(c)}var b=this.currentHash;if(b){b=b.replace("#","")}var a=this.previousHash;if(a){a=a.replace("#","")}trackingController.userNavigatedFromIDToID(a,b)};openCrossReference=function(a){window.location="#"+a};var dataController={jsonStructure:null};dataController.loadData=function(){var contentJsonRequest=new XMLHttpRequest();var contentJsonURL=null;if(controller.isHelpViewerMode){contentJsonURL=controller.contentsFolderURL+"content.json"}else{contentJsonURL=controller.localizedContentsFolderURL+"content.json"}contentJsonRequest.open("GET",contentJsonURL,false);try{contentJsonRequest.send(null)}catch(err){contentJsonRequest=null}if(!contentJsonRequest||!(contentJsonRequest.status==0||contentJsonRequest.status==200)){if(typeof(window.console)!="undefined"){console.log("Error retrieving Content.json file.")}return}this.jsonStructure=eval(contentJsonRequest.responseText);this.jsonStructure=this.jsonStructure[0];var contentJsonVersionRequest=new XMLHttpRequest();var contentJsonVersionURL=null;if(controller.isHelpViewerMode){contentJsonVersionURL=controller.contentsFolderURL+"contentjson-version.txt"}else{contentJsonVersionURL=controller.localizedContentsFolderURL+"contentjson-version.txt"}contentJsonVersionRequest.open("GET",contentJsonVersionURL,false);try{contentJsonVersionRequest.send(null)}catch(err){contentJsonVersionRequest=null}if(!contentJsonVersionRequest||!(contentJsonVersionRequest.status==0||contentJsonVersionRequest.status==200)){if(typeof(window.console)!="undefined"){console.log("Error retrieving Contentjson-version.txt file.")}return}this.versionNumber=contentJsonVersionRequest.responseText;this.loadOverrideMethods()};dataController.getTopHierearchyObjects=function(){return dataController.jsonStructure.hierarchy};dataController.getHierarchyObjectForID=function(a){dataController.getHierarchyObjectForIDinObject=function(g,f){var e=null;for(var d=0;e=f[d++];){if(e.id==g){return e}if(e.children){for(var b=0;hierarchyItemChild=e.children[b++];){var c=this.getHierarchyObjectForIDinObject(g,e.children);if(c){return c}}}}};return this.getHierarchyObjectForIDinObject(a,this.jsonStructure.hierarchy)};dataController.getContentObjectForID=function(a){return this.jsonStructure.content[a]};dataController.getSettingsStringForKey=function(a){return this.jsonStructure.settings[a]};dataController.getParentIDForObjectWithID=function(a){dataController.getParentIDForObjectWithIDandArray=function(h,f,g){var e=null;for(var d=0;e=g[d++];){if(e.id==h){return f}if(e.children){for(var b=0;hierarchyItemChild=e.children[b++];){var c=this.getParentIDForObjectWithIDandArray(h,e.id,e.children);if(c){return c}}}}};return dataController.getParentIDForObjectWithIDandArray(a,null,this.jsonStructure.hierarchy)};dataController.getChildrenIDsForObjectWithID=function(e){var a=dataController.getHierarchyObjectForID(e);if(!a){return[]}var d=a.children;if(!d){d=[]}var c=[];for(var b=0;child=d[b++];){c.push(child.id)}return c};dataController.getButtonIDForObjectWithID=function(d){var a=false;var c=d;while(!a){var b=dataController.getParentIDForObjectWithID(c);if(b){c=b}else{a=true}}return c};dataController.getNameForObjectWithID=function(c){var a=dataController.getContentObjectForID(c);if(!a){a=[]}var b=a.name;if(!b){b="[id not found: "+c+"]"}if("string"!=typeof(b)){b="[id not found: "+c+"]"}if(c=="printBook"){b=this.getSettingsStringForKey("Title")}return b};dataController.getAlternativeNameForObjectWithID=function(c){var a=dataController.getContentObjectForID(c);if(!a){a=[]}var b=a.alternativeName;if(!b){b=""}return b};dataController.getIconForObjectWithID=function(d){var a=dataController.getContentObjectForID(d);if(!a){a=[]}var c=a.icon;if(!c){c=""}if(c!=""&&-1==c.indexOf("data:image/png")){var b=null;if(controller.isHelpViewerMode){b="../Contents/"}else{b="../Contents/"+localizationController.language+"/"}c=b+c}return c};dataController.getContentForObjectWithID=function(e){if("function"==typeof(window.contentForID)){var b=contentForID(e,localizationController.language);if(b){return b}}var a=dataController.getContentObjectForID(e);if(!a){a=[]}var d=a.content;if(d){var c=null;if(controller.isHelpViewerMode){c="../Contents/"}else{c="../Contents/"+localizationController.language+"/"}d=d.replace(/img([^>]*?) src=(["'])/g,"img$1 src=$2"+c);if(controller.isHelpViewerMode){d=d.replace(/href=\"http/g,'target="_new" href="http')}}return d};dataController.getBreadcrumbsForObjectWithID=function(f,b){var e="";var d=this.getParentIDForObjectWithID(f);while(d){if(e==""){e=this.getNameForObjectWithID(d)}else{var a=this.getNameForObjectWithID(d);if(-1!=a.indexOf("id not found")){a=null}if(a){var c='<span class="breadcrumbArrow">&#9658;</span>';if(b){c=b}e=a+" "+c+" "+e}}d=this.getParentIDForObjectWithID(d)}return e};dataController.loadOverrideMethods=function(){var d=new XMLHttpRequest();var b=null;if(controller.isHelpViewerMode){return}else{b=controller.localizedContentsFolderURL+"../OverrideMethods.js"}d.open("GET",b,false);try{d.send(null)}catch(c){d=null}if(!d||!(d.status==0||d.status==200)){return}var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(a)};var lightboxController={viewHasBeenCreated:0};lightboxController.createView=function(){var f=document.createElement("div");document.body.appendChild(f);f.setAttribute("id","lightbox");var b=document.createElement("div");f.appendChild(b);$(b).addClassName("background");var j=document.createElement("div");f.appendChild(j);j.setAttribute("id","closeButtonWrapper");var c=document.createElement("a");j.appendChild(c);$(c).addClassName("closeButton");c.setAttribute("href","javascript:lightboxController.clickCloseButton();");var d=document.createElement("div");f.appendChild(d);d.setAttribute("id","lightboxOuterWrapper");var g=document.createElement("div");d.appendChild(g);g.setAttribute("id","lightboxInnerWrapper");var h=document.createElement("div");g.appendChild(h);h.setAttribute("id","lightboxContentWrapper");var i=document.createElement("div");h.appendChild(i);$(i).addClassName("contentName");i.setAttribute("id","lightboxContentName");var e=document.createElement("div");h.appendChild(e);$(e).addClassName("content");e.setAttribute("id","lightboxContent");this.viewHasBeenCreated=1;var a=new Image(1,1);a.src="images/lightbox-close-hover.png"};lightboxController.showLightbox=function(){if(!this.viewHasBeenCreated){return}$("lightbox").style.display=""};lightboxController.hideLightbox=function(){if(!this.viewHasBeenCreated){return}$("lightbox").style.display="none"};lightboxController.clickCloseButton=function(){window.location=controller.previousHash};lightboxController.navigateToItemWithID=function(d){if(!this.viewHasBeenCreated){this.createView()}lightboxController.showLightbox();$("lightboxContentWrapper").removeClassName("contentNotAvailableMessage");while($("lightboxContentName").childNodes.length){$("lightboxContentName").removeChild($("lightboxContentName").childNodes[0])}$("lightboxContentName").appendChild(document.createTextNode(dataController.getNameForObjectWithID(d)));var m=dataController.getContentForObjectWithID(d);if(!m){var a=null;var c=dataController.getTopHierearchyObjects();for(var e=0;hierarchyItem=c[e++];){var b=dataController.getContentObjectForID(hierarchyItem.id);if(b.type!="content-not-available-message"){continue}a=hierarchyItem.children[0].id;break}if(controller.isHelpViewerMode&&a){$("lightboxContentWrapper").addClassName("contentNotAvailableMessage");m=dataController.getContentForObjectWithID(a)}else{m="[id not found: "+d+"]"}}$("lightboxContent").innerHTML=m;var l=$("lightboxContent").getElementsByTagName("a");if(l.length){for(var g=l.length-1;g>=0;g--){var k=l[g];var h="";if(k.attributes.onclick){h=k.attributes.onclick.value}if(!h){h=""}var f=k.attributes.href.value;if("#contentNotAvailableMessageLink"==f){continue}if(-1==h.indexOf("openCrossReference")){k.setAttribute("target","_blank")}}}};var localizationController={supportedLanguages:null,language:null,uiElements:null};localizationController.localizeHelpViewer=function(){this.language=dataController.getSettingsStringForKey("LocalizationISOCode")};localizationController.localizeBrowser=function(){localizationController.initializeUIElements();var regexHelpViewer=new RegExp(/Help Viewer/);if(regexHelpViewer.exec(navigator.userAgent)){return}var infoJsonRequest=new XMLHttpRequest();var infoJsonURL=controller.contentsFolderURL+"Info.json";infoJsonRequest.open("GET",infoJsonURL,false);try{infoJsonRequest.send(null)}catch(err){infoJsonRequest=null}if(!infoJsonRequest||!(infoJsonRequest.status==0||infoJsonRequest.status==200)){if(typeof(window.console)!="undefined"){console.log("Could not retrieve localization JSON file.")}this.supportedLanguages=new Array;return}var infoJsonContents=eval(infoJsonRequest.responseText);infoJsonContents=infoJsonContents[0];this.supportedLanguages=infoJsonContents;var query=window.location.search;if(query.length>0){query=query.substring(1,query.length)}else{query=null}var queryArray=new Object();if(query){for(var i=0;i<query.split("&").length;i++){var kvp=query.split("&")[i];queryArray[kvp.split("=")[0]]=kvp.split("=")[1]}}var langCode=queryArray.lang;if(langCode){this.language=langCode}else{var navigatorLanguage=null;if(navigator.language){navigatorLanguage=navigator.language}else{if(navigator.systemLanguage){navigatorLanguage=navigator.systemLanguage}}navigatorLanguage=navigatorLanguage.substring(0,2);if("zh"==navigatorLanguage){if("zh-cn"==navigator.language){navigatorLanguage="zh_CN"}else{if("zh-tw"==navigator.language){navigatorLanguage="zn_TW"}}}else{if("pt"==navigatorLanguage){if("pt-br"==navigator.language){navigatorLanguage="pt_BR"}else{if("pt-pt"==navigator.language){navigatorLanguage="pt"}}}}if(navigatorLanguage&&this.supportedLanguages[navigatorLanguage]){this.language=navigatorLanguage}else{this.language="en"}}};localizationController.localizedUIString=function(c){var b=this.uiElements[this.language];if(!b){return c}var a=b[c];if(!a){return c}return a};localizationController.getLocalizationLink=function(){var c=0;for(var d in this.supportedLanguages){c++}if(c<2){return null}var g=document.createElement("div");g.setAttribute("id","localizations");var b=document.createElement("select");g.appendChild(b);b.setAttribute("id","localizationsSelect");b.setAttribute("onchange","localizationController.changeLanguage()");var a=document.createElement("option");b.appendChild(a);a.appendChild(document.createTextNode(localizationController.localizedUIString("Change Language")));for(var d in this.supportedLanguages){var f=this.supportedLanguages[d];var e=document.createElement("option");b.appendChild(e);e.appendChild(document.createTextNode(f));e.setAttribute("value",d)}return g};localizationController.changeLanguage=function(){var a=$("localizationsSelect");var b="?lang="+a.options[a.selectedIndex].value+window.location.hash;window.location=b};localizationController.initializeUIElements=function(){this.uiElements=eval({da:{"Show steps":"Vis trin","Hide steps":"Skjul trin",Search:"Søg",Cancel:"Annuller","Change Language":"Skift sprog","Downloading latest help...":"Henter den nyeste hjælp...",Page:"Side",Section:"Afsnit",Book:"Bog","%@ Search Results":"%@ søgeresultater"},de:{"Show steps":"Schritte einblenden","Hide steps":"Schritte ausblenden",Search:"Suchen",Cancel:"Abbrechen","Change Language":"Sprache wechseln","Downloading latest help...":"Neueste Hilfe laden ...",Page:"Seite",Section:"Abschnitt",Book:"Buch","%@ Search Results":"%@ Suchergebnisse"},en:{"Show steps":"Show steps","Hide steps":"Hide steps",Search:"Search",Cancel:"Cancel","Change Language":"Change Language","Downloading latest help...":"Downloading latest help...",Page:"Page",Section:"Section",Book:"Book","%@ Search Results":"%@ Search Results"},es:{"Show steps":"Mostrar pasos","Hide steps":"Ocultar pasos",Search:"Buscar",Cancel:"Cancelar","Change Language":"Cambiar idioma","Downloading latest help...":"Descargando ayuda más reciente...",Page:"Página",Section:"Sección",Book:"Libro","%@ Search Results":"%@ resultados de la búsqueda"},fi:{"Show steps":"Näytä vaiheet","Hide steps":"Kätke vaiheet",Search:"Etsi",Cancel:"Kumoa","Change Language":"Vaihda kieli","Downloading latest help...":"Ladataan uusinta ohjetta...",Page:"Sivu",Section:"Kappale",Book:"Kirja","%@ Search Results":"%@ hakutulosta"},fr:{"Show steps":"Afficher les étapes","Hide steps":"Masquer les étapes",Search:"Rechercher",Cancel:"Annuler","Change Language":"Changer de langue","Downloading latest help...":"Téléchargement de l’Aide la plus récente...",Page:"Page",Section:"Section",Book:"Livre","%@ Search Results":"%@ résultats de recherche"},it:{"Show steps":"Mostra passaggi","Hide steps":"Nascondi passaggi",Search:"Cerca",Cancel:"Annulla","Change Language":"Cambia lingua","Downloading latest help...":"Scarico Aiuto più recente...",Page:"Pagina",Section:"Sezione",Book:"Libro","%@ Search Results":"%@ risultati di ricerca"},ja:{"Show steps":"手順を表示","Hide steps":"手順を隠す",Search:"検索",Cancel:"キャンセル","Change Language":"言語を変更","Downloading latest help...":"最新版のヘルプをダウンロードしています...",Page:"ページ",Section:"セクション",Book:"ブック","%@ Search Results":"検索結果 %@ 件"},ko:{"Show steps":"단계 보기","Hide steps":"단계 가리기",Search:"검색",Cancel:"취소","Change Language":"언어 변경","Downloading latest help...":"최신 도움말 다운로드 중...",Page:"페이지",Section:"섹션",Book:"책","%@ Search Results":"%@개의 검색 결과"},nl:{"Show steps":"Toon stappen","Hide steps":"Verberg stappen",Search:"Zoek",Cancel:"Annuleer","Change Language":"Wijzig taal","Downloading latest help...":"Nieuwste hulpinformatie downloaden...",Page:"Pagina",Section:"Gedeelte",Book:"Boek","%@ Search Results":"%@ zoekresultaten"},no:{"Show steps":"Vis trinn","Hide steps":"Skjul trinn",Search:"Søk",Cancel:"Avbryt","Change Language":"Endre språk","Downloading latest help...":"Laster ned den nyeste hjelpen...",Page:"Side",Section:"Del",Book:"Bok","%@ Search Results":"%@ søkeresultater"},pl:{"Show steps":"Pokaż kroki","Hide steps":"Ukryj kroki",Search:"Szukaj",Cancel:"Anuluj","Change Language":"Zmień język","Downloading latest help...":"Pobieranie najnowszej Pomocy...",Page:"Strona",Section:"Rozdział",Book:"Książka","%@ Search Results":"Znaleziono: %@"},pt:{"Show steps":"Mostrar tons","Hide steps":"Ocultar tons",Search:"Pesquisar",Cancel:"Cancelar","Change Language":"Alterar idioma","Downloading latest help...":"A descarregar a ajuda mais recente...",Page:"Página",Section:"Secção",Book:"Livro","%@ Search Results":"Resultados da pesquisa: %@"},pt_BR:{"Show steps":"Mostrar etapas","Hide steps":"Ocultar etapas",Search:"Pesquisar",Cancel:"Cancelar","Change Language":"Alterar idioma","Downloading latest help...":"Transferindo a ajuda mais recente...",Page:"Página",Section:"Seção",Book:"Livro","%@ Search Results":"Resultados da Busca: %@"},ru:{"Show steps":"Показать шаги","Hide steps":"Скрыть шаги",Search:"Искать",Cancel:"Отменить","Change Language":"Изменить язык","Downloading latest help...":"Загрузка последней Справки...",Page:"Страница",Section:"Параграф",Book:"Книга","%@ Search Results":"Результатов поиска: %@"},sv:{"Show steps":"Visa steg","Hide steps":"Göm steg",Search:"Sök",Cancel:"Avbryt","Change Language":"Byt språk","Downloading latest help...":"Hämtar den senaste hjälpen...",Page:"Sida",Section:"Avsnitt",Book:"Bok","%@ Search Results":"%@ sökträffar"},zh_CN:{"Show steps":"显示步骤","Hide steps":"隐藏步骤",Search:"搜索",Cancel:"取消","Change Language":"更改语言","Downloading latest help...":"正在下载最新的帮助...",Page:"页面",Section:"章节",Book:"整本书","%@ Search Results":"%@ 个搜索结果"},zn_TW:{"Show steps":"顯示步驟","Hide steps":"隱藏步驟",Search:"搜尋",Cancel:"取消","Change Language":"更改語言","Downloading latest help...":"正在下載最新的輔助說明⋯",Page:"單頁",Section:"章節",Book:"全文","%@ Search Results":"%@ 個搜尋結果"}})};var movieLightboxController={viewHasBeenCreated:0};movieLightboxController.createView=function(){var g=document.createElement("div");document.body.appendChild(g);g.setAttribute("id","movieLightbox");var d=document.createElement("div");g.appendChild(d);$(d).addClassName("background");var c=document.createElement("div");g.appendChild(c);c.setAttribute("id","centeringDiv");var b=document.createElement("div");c.appendChild(b);var a=document.createElement("div");b.appendChild(a);var e=document.createElement("a");a.appendChild(e);$(e).addClassName("closeButton");e.setAttribute("href","javascript:movieLightboxController.clickCloseButton();");var f=document.createElement("div");a.appendChild(f);$(f).addClassName("content");f.setAttribute("id","movieLightboxContent");this.viewHasBeenCreated=1};movieLightboxController.showLightbox=function(){if(!this.viewHasBeenCreated){return}$("movieLightbox").style.display=""};movieLightboxController.hideLightbox=function(){if(!this.viewHasBeenCreated){return}$("movieLightbox").style.display="none";$("movieLightboxContent").innerHTML=""};movieLightboxController.clickCloseButton=function(){movieLightboxController.hideLightbox()};movieLightboxController.showLightboxWithURL=function(c){if(!this.viewHasBeenCreated){this.createView()}movieLightboxController.showLightbox();var a=document.createElement("div");$("movieLightboxContent").appendChild(a);a.addClassName("containingBlock");var b=document.createElement("div");a.appendChild(b);b.addClassName("videoWrapper");b.innerHTML='<video autoplay="true" scale="aspect" width="640" height="400" src="'+c+'" controls="controls">'};var printController={};printController.addInterfaceElements=function(){if(controller.isHelpViewerMode){return}var a=document.createElement("div");document.body.appendChild(a);a.setAttribute("id","print");var c=document.createElement("a");a.appendChild(c);c.setAttribute("id","printImageSpacer");c.setAttribute("href","javascript:printController.showPrintOptions();");var b=document.createElement("div");a.appendChild(b);b.setAttribute("id","printOptions");printController.hidePrintOptions();var e=document.createElement("table");b.appendChild(e);e.setAttribute("cellpadding","0");e.setAttribute("cellspacing","0");var d=document.createElement("tbody");e.appendChild(d);printController.createPrintOption=function(l,i,h){var k=document.createElement("tr");h.appendChild(k);k.setAttribute("id","printOptions"+i);var g=document.createElement("td");k.appendChild(g);$(g).addClassName("title");g.appendChild(document.createTextNode(localizationController.localizedUIString(l)));var j=document.createElement("td");k.appendChild(j);$(j).addClassName("dash");j.appendChild(document.createTextNode("-"));var f=document.createElement("td");k.appendChild(f);$(f).addClassName("text");f.appendChild(document.createTextNode(""))};printController.createPrintOption(localizationController.localizedUIString("Page"),"Page",d);printController.createPrintOption(localizationController.localizedUIString("Section"),"Section",d);printController.createPrintOption(localizationController.localizedUIString("Book"),"Book",d)};printController.showPrintOptions=function(){var c=$("printOptionsPage").select(".text")[0];var f=$("printOptionsSection").select(".text")[0];var h=$("printOptionsBook").select(".text")[0];c.removeChild(c.childNodes[0]);f.removeChild(f.childNodes[0]);h.removeChild(h.childNodes[0]);var b=window.location.hash.substring(1);var e=this.getSectionIDForElementWithID(b);if(e){var a=dataController.getNameForObjectWithID(b);if(e!=b){var d=dataController.getNameForObjectWithID(e)}}var g=dataController.getSettingsStringForKey("Title");c.appendChild(document.createTextNode(a));f.appendChild(document.createTextNode(d));h.appendChild(document.createTextNode(g));if(a){$("printOptionsPage").removeClassName("hidden")}else{$("printOptionsPage").addClassName("hidden")}if(d){$("printOptionsSection").removeClassName("hidden")}else{$("printOptionsSection").addClassName("hidden")}$("printOptions").removeClassName("hidden");$("printImageSpacer").addClassName("pressed");window.document.observe("click",printController.elementWasClicked)};printController.getSectionIDForElementWithID=function(a){var e=$("navigation-"+a);if(!e){return null}var b=false;while(!b){var d=e.parentNode.parentNode;if(d&&d.nodeName=="LI"){e=d}else{b=true}}var c=e.id;c=c.replace("navigation-","");return c};printController.hidePrintOptions=function(){$("printOptions").addClassName("hidden");$("printImageSpacer").removeClassName("pressed");window.document.stopObserving("click",printController.elementWasClicked)};printController.elementWasClicked=function(f){var c=null;var b=null;if(f){c=Event.element(f)}if(c&&c.parentNode.id=="printOptions"){return}if(c&&c.tagName=="TD"){b=c.parentNode.id}if(b&&-1!=b.indexOf("printOptions")){var e=null;if(b=="printOptionsPage"){e=window.location.hash}else{if(b=="printOptionsSection"){var a=window.location.hash.substring(1);e="#"+printController.getSectionIDForElementWithID(a)}else{if(b=="printOptionsBook"){e="#printBook"}}}var d="print.html?lang="+localizationController.language+e;if(f.metaKey){window.open(d);printController.hidePrintOptions()}else{$("printiFrame").src="about:blank";setTimeout(function(){$("printiFrame").src=d},0)}}else{printController.hidePrintOptions()}};printController.iFrameContentDidLoad=function(){if("about:blank"==$("printiFrame").src){return}printController.hidePrintOptions();if(-1!=document.getElementsByTagName("html")[0].className.toString().indexOf("internetexplorer")){parent.printiFrame.focus()}setTimeout(function(){parent.printiFrame.print()},0)};var printPageController={currentID:null};printPageController.createView=function(){var c=document.createElement("div");var a=document.createElement("div");c.appendChild(a);a.setAttribute("id","mainContentWrapper");var b=document.createElement("div");a.appendChild(b);$(b).addClassName("content");b.setAttribute("id","mainContent");return c};printPageController.navigateToItemWithID=function(c){var g="";g+='<img src="images/logo.png" height="27" width="27" alt="Apple logo" class="logo" />';var j=dataController.getSettingsStringForKey("Title");g+='<div class="title">'+j+"</div>";g+=printPageController.appendContentWithID(c);g+=printPageController.appendContentWithID("COPYRIGHT_PAGE_CONTENT");$("mainContent").innerHTML=g;document.title=dataController.getNameForObjectWithID(c);var d=$("mainContent").select(".Task");for(var e=0;task=d[e++];){var h=document.createElement("div");$(h).addClassName("TaskWrapper");task.parentNode.insertBefore(h,task);h.appendChild(task);var b=document.createElement("a");h.insertBefore(b,h.childNodes[0]);b.setAttribute("href","javascript:void(0);");var f=document.createElement("span");b.appendChild(f);$(f).addClassName("showHideSteps");f.appendChild(document.createTextNode(""));var a=task.select(".Name")[0];b.appendChild(a)}if(top.location.href!=window.location.href){if(parent.printController){parent.printController.iFrameContentDidLoad()}}};printPageController.appendContentWithID=function(d){var b=dataController.getContentObjectForID(d);if(b){if("false"==b.navigation){return""}}var j="";var h="printElement";if(d=="COPYRIGHT_PAGE_CONTENT"){h+=" copyright"}j+='<div class="'+h+'">';var f=dataController.getChildrenIDsForObjectWithID(d);var a=true;if(d=="printBook"){a=false}if(f.length){a=false}if(a){j+='<div class="contentBreadcrumbs">'+dataController.getBreadcrumbsForObjectWithID(d)+"</div>";if("COPYRIGHT_PAGE_CONTENT"!=d){j+='<div class="contentName">'+dataController.getNameForObjectWithID(d)+"</div>"}}if(d=="printBook"){var c=dataController.getTopHierearchyObjects();for(var g=0;hierarchyItem=c[g++];){var b=dataController.getContentObjectForID(hierarchyItem.id);if(b.type!="navigation"){continue}j+=printPageController.appendContentWithID(hierarchyItem.id)}return j}else{if(f.length){for(var g=0;child=f[g++];){j+=printPageController.appendContentWithID(child)}}else{var k=dataController.getContentForObjectWithID(d);var e=dataController.getChildrenIDsForObjectWithID(d);if(1==e.length){k=dataController.getContentForObjectWithID(e[0])}if(!k){k=""}k=k.replace(/<a.*?>(.*?)<\/a>/g,"$1");j+=k}}j+="</div>";return j};var searchController={};searchController.addInterfaceElements=function(){if(controller.isHelpViewerMode){return}var h=document.createElement("div");document.body.appendChild(h);h.setAttribute("id","search");var e=document.createElement("div");h.appendChild(e);e.setAttribute("id","searchField");var i=document.createElement("input");e.appendChild(i);if(-1!=document.getElementsByTagName("html")[0].className.indexOf("safari")){i.setAttribute("type","search")}i.setAttribute("placeholder",localizationController.localizedUIString("Search"));i.setAttribute("results","0");if(-1!=document.getElementsByTagName("html")[0].className.indexOf("internetexplorer")){i.onkeydown=searchController.performSearch}else{i.setAttribute("onkeydown","searchController.performSearchWithEvent(event);")}var c=document.createElement("div");h.appendChild(c);c.setAttribute("id","searchResults");searchController.hideSearchResults();var b=document.createElement("div");c.appendChild(b);b.setAttribute("id","searchResultsTopBar");var g=document.createElement("a");b.appendChild(g);g.setAttribute("href","javascript:searchController.hideSearchResults();");g.appendChild(document.createTextNode(localizationController.localizedUIString("Cancel")));var a=document.createElement("span");b.appendChild(a);a.setAttribute("id","searchResultsCount");a.appendChild(document.createTextNode(this.searchResultsStringWithNumber(0)));var f=document.createElement("div");c.appendChild(f);f.setAttribute("id","searchResultsListContainer");var d=document.createElement("ul");f.appendChild(d);d.setAttribute("id","searchResultsList")};searchController.performSearch=function(){searchController.performSearchWithEvent(event)};searchController.performSearchWithEvent=function(b){if(b.keyCode!=13){return}var o=b.srcElement?b.srcElement:b.target;var l=o.value;l=RegExp.escape(l);l=l.replace(/ /g,"|");searchController.searchForContentInArray=function(s,u){var w=new Array;var q=new RegExp(s,"i");for(var D=0;id=u[D++];){var y=false;var G=dataController.getNameForObjectWithID(id);if(G){G=G.replace(/<\/?[^>]+(>|$)/g," ").replace(/\s+/g," ");if(q.exec(G)){y=true}}var z=dataController.getAlternativeNameForObjectWithID(id);if(z){z=z.replace(/<\/?[^>]+(>|$)/g," ").replace(/\s+/g," ");if(q.exec(z)){y=true}}var C=dataController.getContentForObjectWithID(id);if(C){C=C.replace(/<\/?[^>]+(>|$)/g," ").replace(/\s+/g," ");if(q.exec(C)){y=true}}else{y=false}if(y){var A=dataController.getContentObjectForID(id)["excludefromsearch"];if(1==A){y=false}var t=false;var r=id;while(!t){var p=dataController.getParentIDForObjectWithID(r);if(p){r=p;var F=dataController.getContentObjectForID(r)["excludefromsearch"];if(1==F){y=false}}else{t=true}}}if(y){var E=dataController.getButtonIDForObjectWithID(id);var B=dataController.getContentObjectForID(E);if("false"==B.navigation){y=false}}if(true==y){w.push(id)}var x=dataController.getChildrenIDsForObjectWithID(id);var v=searchController.searchForContentInArray(s,x);w=w.concat(v)}return w};var f=new Array;var d=dataController.getTopHierearchyObjects();for(var h=0;hierarchyItem=d[h++];){var n=dataController.getChildrenIDsForObjectWithID(hierarchyItem.id);var e=searchController.searchForContentInArray(l,n);f=f.concat(e)}$("searchResultsCount").removeChild($("searchResultsCount").firstChild);$("searchResultsCount").appendChild(document.createTextNode(this.searchResultsStringWithNumber(f.length)));while($("searchResultsList").firstChild){$("searchResultsList").removeChild($("searchResultsList").firstChild)}for(var h=0;id=f[h++];){var k=document.createElement("li");$("searchResultsList").appendChild(k);k.setAttribute("id","searchresult-"+id);var j=document.createElement("a");k.appendChild(j);j.setAttribute("href","javascript:searchController.openSearchResult('"+id+"');");var g=dataController.getNameForObjectWithID(id);j.appendChild(document.createTextNode(g));var m=document.createElement("span");j.appendChild(m);var c=dataController.getBreadcrumbsForObjectWithID(id);m.innerHTML=c}$("searchResults").removeClassName("hidden");var a=window.location.hash.substring(1);searchController.navigateToItemWithID(a);trackingController.userSearchedForPhrase(l)};searchController.navigateToItemWithID=function(a){if($("searchResults")&&$("searchResults").hasClassName("hidden")){return}if(!$("search")){return}var d=$("search").select(".selectedSearchResult");for(var c=0;previouslySelectedSearchResult=d[c++];){previouslySelectedSearchResult.removeClassName("selectedSearchResult")}var b=$("searchresult-"+a);if(b){b.addClassName("selectedSearchResult")}};searchController.openSearchResult=function(a){browseController.closeAllNavigationItems();trackingController.userNavigatedFromIDToID("searchView",a);window.location="#"+a};searchController.hideSearchResults=function(){if($("searchResults")){$("searchResults").addClassName("hidden")}};searchController.searchResultsStringWithNumber=function(b){var a=localizationController.localizedUIString("%@ Search Results");a=a.replace(/%@/g,b);return a};var trackingController={};(function(){var g="helpSession";var b=Math.round(Math.random()*1000000)+"-"+new Date().getTime();var c=(location.protocol.match(/^http/)?"/activity/":"http://help.apple.com/activity/");var k={base:function(){return dataController.versionNumber},when:function(){return new Date().getTime()},session:j(),language:function(){return localizationController.language}};var d=null;trackingController.userNavigatedFromIDToID=function(m,l){if(controller.isHelpViewerMode){return}if(l==d){return}d=l;a({action:"navigate",src:m,target:l})};trackingController.userSearchedForPhrase=function(l){if(controller.isHelpViewerMode){return}a({action:"search",phrase:l})};var e=new XMLHttpRequest();function a(m){if(location.host.match(/^localhost/)){return}if(""==location.host){return}var l=c+i(k)+";"+i(m);e.open("GET",l);e.send()}function i(o){var l=[];for(var m in o){var n=o[m];if(typeof n==="function"){n=n()}l.push(m+"="+n)}return l.join(";")}function j(){return h()||f()}function h(){var o={};var m=document.cookie.split(/;\s+/);for(var n=0;n<m.length;n++){var l=m[n].split(/\=/);o[l[0]]=l[1]}return o[g]}function f(){var l=new Date(new Date().getTime()+(1000*60*60*24*365*10)).toUTCString();var n=(location.host.match(/apple.com$/)?"; domain=apple.com":"");var m=g+"="+b+"; expires="+l+"; path=/"+n;document.cookie=m;return h()}}());var updateController={};updateController.init=function(){controller.init();var d=new RegExp(/Help Viewer/);if(!d.exec(navigator.userAgent)){updateController.showHelpInterface();return}if(1==dataController.getSettingsStringForKey("ShowVersionNumber")){var c=document.createElement("div");document.body.appendChild(c);c.setAttribute("id","currentURL");c.appendChild(document.createTextNode(window.location.href))}var b=document.createElement("div");document.body.appendChild(b);b.setAttribute("id","updating");b.style.display="none";var e=document.createElement("img");b.appendChild(e);e.setAttribute("src","images/activityindicator.png");var a=document.createElement("div");b.appendChild(a);a.setAttribute("id","updatingText");a.addClassName("hidden");a.appendChild(document.createTextNode(localizationController.localizedUIString("Downloading latest help...")));updateController.redirectToRemoteBook()};updateController.showHelpInterface=function(){setTimeout(function(){controller.showInterface()},100);var a=new RegExp(/Help Viewer/);if(a.exec(navigator.userAgent)){setTimeout(function(){updateController.runDeleteTempFilesScript()},1000)}};updateController.redirectToRemoteBook=function(){window.location="help:runscript=/interface/scripts/redirect.scpt string='"+window.location.href+",,,"+dataController.getSettingsStringForKey("FolderName")+",,,"+dataController.getSettingsStringForKey("RemoteURL")+localizationController.language+"/'";setTimeout(function(){updateController.didRedirectToRemoteBook()},1000)};updateController.didRedirectToRemoteBook=function(){var b=new XMLHttpRequest();var a="file:///tmp/"+dataController.getSettingsStringForKey("FolderName")+" Did Finish Redirect.txt";b.open("GET",a,false);try{b.send(null)}catch(c){b=null}if(b.status==0||b.status==200){if(-1!=b.responseText.indexOf("1")){if(window.location.hash!=""&&window.location.hash!="#"){updateController.showHelpInterface()}else{updateController.runUpdateScript()}return}else{setTimeout(function(){updateController.didRedirectToRemoteBook()},100)}}else{updateController.showHelpInterface()}};updateController.runUpdateScript=function(){document.getElementById("updating").style.display="";setTimeout(function(){$("updatingText").removeClassName("hidden")},5000);setTimeout(function(){window.location="help:runscript=/interface/scripts/updatefrontend.scpt string='"+window.location.href+",,,"+dataController.getSettingsStringForKey("FolderName")+",,,"+dataController.getSettingsStringForKey("RemoteURL")+localizationController.language+"/'"},1);setTimeout(function(){updateController.didRunUpdateScript()},1000)};updateController.didRunUpdateScript=function(){var b=new XMLHttpRequest();var a="file:///tmp/"+dataController.getSettingsStringForKey("FolderName")+" Did Finish Update.txt";b.open("GET",a,false);try{b.send(null)}catch(c){b=null}if(b.status==0||b.status==200){if(-1!=b.responseText.indexOf("1")){updateController.runDeleteTempFilesScript(function(){window.location="#"+controller.idOfFirstSelectedItem();window.location.reload()});return}else{setTimeout(function(){updateController.didRunUpdateScript()},100)}}else{updateController.showHelpInterface()}};updateController.runDeleteTempFilesScript=function(a){window.location="help:runscript=/interface/scripts/deletetempfiles.scpt string='"+window.location.href+",,,"+dataController.getSettingsStringForKey("FolderName")+",,,"+dataController.getSettingsStringForKey("RemoteURL")+localizationController.language+"/'";if(a){updateController.didRunDeleteTempFilesScript(a)}};updateController.didRunDeleteTempFilesScript=function(b){var c=new RegExp(/Mac OS X 10_5/);if(c.exec(navigator.userAgent)){setTimeout(b,100);return}var d=new XMLHttpRequest();var a="file:///tmp/"+dataController.getSettingsStringForKey("FolderName")+" Did Finish Update.txt";d.open("GET",a,false);try{d.send(null)}catch(e){d=null}if(d.status==0||d.status==200){setTimeout(function(){updateController.didRunDeleteTempFilesScript(b)},1000)}else{setTimeout(b,100)}};Event.observe(window,"load",function(){setTimeout(function(){updateController.init()},1)},false);